"use strict";(self.webpackChunkfoss_guru=self.webpackChunkfoss_guru||[]).push([[6367],{3653:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>g,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"kits/spring-ai/Model/embedding-model","title":"Spring AI EmbeddingModel","description":"In Spring AI Vector Embedding tutorial, learn what is a vector or embedding, how it helps in semantic searches, and how to generate embeddings using AI.","source":"@site/community/kits/spring-ai/Model/embedding-model.md","sourceDirName":"kits/spring-ai/Model","slug":"/kits/spring-ai/Model/embedding-model","permalink":"/foss-guru/community/kits/spring-ai/Model/embedding-model","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"embedding-model","title":"Spring AI EmbeddingModel","description":"In Spring AI Vector Embedding tutorial, learn what is a vector or embedding, how it helps in semantic searches, and how to generate embeddings using AI.","sidebar_position":1},"sidebar":"community","previous":{"title":"Models","permalink":"/foss-guru/community/category/models"},"next":{"title":"Spring AI ImageModel (Text-to-Image)","permalink":"/foss-guru/community/kits/spring-ai/Model/image-model"}}');var d=i(4848),t=i(8453);const r={id:"embedding-model",title:"Spring AI EmbeddingModel",description:"In Spring AI Vector Embedding tutorial, learn what is a vector or embedding, how it helps in semantic searches, and how to generate embeddings using AI.",sidebar_position:1},l=void 0,o={},a=[{value:"\ud83d\ude80 Spring AI Vector Embeddings \u2013 A Fun &amp; Engaging Guide",id:"-spring-ai-vector-embeddings--a-fun--engaging-guide",level:2},{value:"\ud83e\udd14 1. What is a Vector Embedding?",id:"-1-what-is-a-vector-embedding",level:2},{value:"\ud83c\udf1f Example Time",id:"-example-time",level:3},{value:"\ud83d\udd0d 2. Semantic Search: Finding Meaning, Not Just Words",id:"-2-semantic-search-finding-meaning-not-just-words",level:2},{value:"\ud83c\udfd7 3. Meet the <strong>EmbeddingModel</strong> Interface",id:"-3-meet-the-embeddingmodel-interface",level:2},{value:"\u26a1 Usage Example",id:"-usage-example",level:3},{value:"\ud83d\ude80 4. EmbeddingModel Implementations",id:"-4-embeddingmodel-implementations",level:2},{value:"\ud83c\udfac 5. Let\u2019s Get Our Hands Dirty: DeepseekAI Demo",id:"-5-lets-get-our-hands-dirty-deepseekai-demo",level:2},{value:"\ud83d\udee0 5.1. Maven Setup",id:"-51-maven-setup",level:3},{value:"\ud83c\udf9b 5.2. DeepseekAiEmbeddingModel Bean",id:"-52-deepseekaiembeddingmodel-bean",level:3},{value:"\ud83c\udfaf 6. Wrapping It Up",id:"-6-wrapping-it-up",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.p,{children:(0,d.jsx)(n.img,{alt:"Banner Spring AI Icon",src:i(8107).A+"",width:"1022",height:"239"})}),"\n",(0,d.jsx)(n.h2,{id:"-spring-ai-vector-embeddings--a-fun--engaging-guide",children:"\ud83d\ude80 Spring AI Vector Embeddings \u2013 A Fun & Engaging Guide"}),"\n",(0,d.jsxs)(n.p,{children:["Welcome to the ",(0,d.jsx)(n.strong,{children:"Spring AI Vector Embedding"})," tutorial! \ud83c\udf89 Here, we'll unravel the mysteries of vectors, embeddings, and how they supercharge ",(0,d.jsx)(n.strong,{children:"semantic searches"}),". Plus, we\u2019ll generate embeddings using ",(0,d.jsx)(n.strong,{children:"popular LLM models"})," like OpenAI and DeepseekAI using Ollama! \ud83e\udd16\u2728"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-1-what-is-a-vector-embedding",children:"\ud83e\udd14 1. What is a Vector Embedding?"}),"\n",(0,d.jsxs)(n.p,{children:["Imagine you're in a room full of people speaking different languages. How do you find someone who understands you? ",(0,d.jsx)(n.strong,{children:"Vector embeddings"})," work like a universal translator\u2014turning words, sentences, and even images into ",(0,d.jsx)(n.strong,{children:"arrays of numbers"})," that capture meaning! \ud83d\udd22\ud83d\udca1"]}),"\n",(0,d.jsxs)(n.p,{children:["In AI terms, a ",(0,d.jsx)(n.strong,{children:"vector (or embedding)"})," is a magical array of numbers that represents an object, be it a ",(0,d.jsx)(n.strong,{children:"word, sentence, image, audio snippet,"})," or even ",(0,d.jsx)(n.strong,{children:"a product description"}),". \ud83d\udce6"]}),"\n",(0,d.jsxs)(n.p,{children:["Each number in the vector is a ",(0,d.jsx)(n.strong,{children:"component"}),", corresponding to a ",(0,d.jsx)(n.strong,{children:"dimension"})," in hyperspace (yes, like sci-fi \ud83d\ude80). More dimensions mean ",(0,d.jsx)(n.strong,{children:"more details"})," about the object!"]}),"\n",(0,d.jsx)(n.h3,{id:"-example-time",children:"\ud83c\udf1f Example Time"}),"\n",(0,d.jsxs)(n.p,{children:["Let\u2019s take the word ",(0,d.jsx)(n.strong,{children:"\u201chappiness\u201d"})," and give it some numbers:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-plaintext",children:"[2.5, 1.3, 0.8]\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"2.5"})," \u2192 Emotional positivity (yay! \ud83c\udf89)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"1.3"})," \u2192 Emotional intensity (oh wow! \ud83d\ude03)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"0.8"})," \u2192 Context usage (poetry or science? \ud83e\udd14)"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["Now, here\u2019s the kicker: these numbers don\u2019t mean much alone, but ",(0,d.jsx)(n.strong,{children:"together, they create a powerful representation"}),"! \ud83e\udde0\u2728"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-2-semantic-search-finding-meaning-not-just-words",children:"\ud83d\udd0d 2. Semantic Search: Finding Meaning, Not Just Words"}),"\n",(0,d.jsxs)(n.p,{children:["Ever wondered how Google knows exactly what you're looking for, even when you type ",(0,d.jsx)(n.strong,{children:"weird search queries"}),"? That\u2019s ",(0,d.jsx)(n.strong,{children:"semantic search"})," in action! \ud83d\udd75\ufe0f\u200d\u2642\ufe0f\ud83d\udca1"]}),"\n",(0,d.jsxs)(n.p,{children:["Instead of matching ",(0,d.jsx)(n.strong,{children:"exact words"}),", semantic search looks at ",(0,d.jsx)(n.strong,{children:"meaning"}),". It uses ",(0,d.jsx)(n.strong,{children:"vector distances"}),"\u2014small distances = ",(0,d.jsx)(n.strong,{children:"high similarity"}),", big distances = ",(0,d.jsx)(n.strong,{children:"low similarity"}),". \ud83d\udd2c"]}),"\n",(0,d.jsxs)(n.p,{children:["\ud83d\ude80 ",(0,d.jsx)(n.strong,{children:"Real-world applications:"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Google Search"})," \ud83e\uddd0 \u2013 Finds the perfect answer, even if your query is gibberish."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Netflix & Spotify"})," \ud83c\udfb6 \u2013 Suggests movies & songs you ",(0,d.jsx)(n.em,{children:"actually"})," like."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Chatbots & AI Assistants"})," \ud83e\udd16 \u2013 Understands you better than your best friend!"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h2,{id:"-3-meet-the-embeddingmodel-interface",children:["\ud83c\udfd7 3. Meet the ",(0,d.jsx)(n.strong,{children:"EmbeddingModel"})," Interface"]}),"\n",(0,d.jsxs)(n.p,{children:["Spring AI makes embedding easy with the ",(0,d.jsx)(n.strong,{children:"EmbeddingModel"})," interface! \ud83c\udfaf"]}),"\n",(0,d.jsxs)(n.p,{children:["Think of it as your ",(0,d.jsx)(n.strong,{children:"personal AI librarian"}),", transforming text into numerical vectors! \ud83d\udcda\ud83d\udd22"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:"public interface EmbeddingModel extends Model<EmbeddingRequest, EmbeddingResponse> {\n  List<Double> embed(String text);\n  List<Double> embed(Document document);\n  EmbeddingResponse embedForResponse(List<String> texts);\n  EmbeddingResponse call(EmbeddingRequest request);\n}\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.img,{alt:"spring-ai-embedding-model",src:i(3451).A+"",width:"720",height:"405"})}),"\n",(0,d.jsxs)(n.p,{children:["\ud83d\udca1 ",(0,d.jsxs)(n.strong,{children:["The ",(0,d.jsx)(n.code,{children:"embedForResponse()"})," method"]})," gives extra metadata, just in case you want more than just numbers!"]}),"\n",(0,d.jsx)(n.h3,{id:"-usage-example",children:"\u26a1 Usage Example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'String text = "...";\nList<Double> embeddings = embeddingModel.embed(text);\n'})}),"\n",(0,d.jsx)(n.p,{children:"Or, for more control:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'List<Double> embeddings = embeddingModel.call(\n  new EmbeddingRequest(List.of(text), OpenAiEmbeddingOptions.builder()\n    .withModel("text-embedding-3-small")\n    .withUser("jon.snow") // Because he knows nothing, right? \ud83d\ude06\n    .build()))\n  .getResult().getOutput();\n'})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-4-embeddingmodel-implementations",children:"\ud83d\ude80 4. EmbeddingModel Implementations"}),"\n",(0,d.jsxs)(n.p,{children:["Spring AI supports ",(0,d.jsx)(n.strong,{children:"tons of embedding models"}),"! \ud83c\udfc6 Each has its own ",(0,d.jsx)(n.strong,{children:"implementation class"}),"."]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Provider"}),(0,d.jsx)(n.th,{children:"Implementation Class"}),(0,d.jsx)(n.th,{children:"Supported Models"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"OpenAI"}),(0,d.jsx)(n.td,{children:"OpenAiEmbeddingModel"}),(0,d.jsx)(n.td,{children:"text-embedding-ada-002, text-embedding-3-large, text-embedding-3-small"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Azure OpenAI"}),(0,d.jsx)(n.td,{children:"AzureOpenAiEmbeddingModel"}),(0,d.jsx)(n.td,{children:"text-embedding-ada-002"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Ollama"}),(0,d.jsx)(n.td,{children:"OllamaEmbeddingModel"}),(0,d.jsx)(n.td,{children:"mistral"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"PostgresML"}),(0,d.jsx)(n.td,{children:"PostgresMlEmbeddingModel"}),(0,d.jsx)(n.td,{children:"distilbert-base-uncased"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Mistral AI"}),(0,d.jsx)(n.td,{children:"MistralAiEmbeddingModel"}),(0,d.jsx)(n.td,{children:"mistral-embed"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"MiniMax"}),(0,d.jsx)(n.td,{children:"MiniMaxEmbeddingModel"}),(0,d.jsx)(n.td,{children:"embo-01"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"QianFan"}),(0,d.jsx)(n.td,{children:"QianFanEmbeddingModel"}),(0,d.jsx)(n.td,{children:"bge_large_zh"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Amazon Bedrock"}),(0,d.jsx)(n.td,{children:"BedrockTitanEmbeddingModel"}),(0,d.jsx)(n.td,{children:"amazon.titan-embed-image-v1"})]})]})]}),"\n",(0,d.jsxs)(n.p,{children:["\ud83d\udcdc ",(0,d.jsxs)(n.strong,{children:["For the full list, check the ",(0,d.jsx)(n.a,{href:"https://docs.spring.io/spring-ai/reference/api/embeddings.html",children:"official docs"}),"!"]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-5-lets-get-our-hands-dirty-deepseekai-demo",children:"\ud83c\udfac 5. Let\u2019s Get Our Hands Dirty: DeepseekAI Demo"}),"\n",(0,d.jsxs)(n.p,{children:["We\u2019ll use Ollama\u2019s ",(0,d.jsx)(n.strong,{children:"mxbai-embed-large"})," and ",(0,d.jsx)(n.strong,{children:"nomic-embed-text"})," model to generate vector embeddings. \ud83d\udee0\u2728"]}),"\n",(0,d.jsx)(n.h3,{id:"-51-maven-setup",children:"\ud83d\udee0 5.1. Maven Setup"}),"\n",(0,d.jsxs)(n.p,{children:["First, add the ",(0,d.jsx)(n.strong,{children:"Spring Boot starter"})," dependency:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-xml",children:"<dependencies>\n  <dependency>\n    <groupId>org.springframework.ai</groupId>\n    <artifactId>spring-ai-ollama-spring-boot-starter</artifactId>\n  </dependency>\n</dependencies>\n"})}),"\n",(0,d.jsxs)(n.p,{children:["\ud83d\udd11 ",(0,d.jsx)(n.strong,{children:"Don\u2019t forget to add your application properties!"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-properties",children:"server.port=8084\nspring.ai.ollama.base-url=http://localhost:11434\nspring.ai.ollama.chat.options.model=deepseek-r1:latest\nspring.ai.ollama.chat.options.temperature=0.7\nspring.ai.ollama.init.pull-model-strategy=always\nspring.ai.ollama.init.pull-model-strategy.embedding.additional-models=mxbai-embed-large\n"})}),"\n",(0,d.jsx)(n.h3,{id:"-52-deepseekaiembeddingmodel-bean",children:"\ud83c\udf9b 5.2. DeepseekAiEmbeddingModel Bean"}),"\n",(0,d.jsxs)(n.p,{children:["Spring Boot ",(0,d.jsx)(n.strong,{children:"auto-configures"})," an ",(0,d.jsx)(n.code,{children:"DeepseekAiEmbeddingModel"})," bean. Just ",(0,d.jsx)(n.strong,{children:"inject it"})," into your class:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'@RestController\npublic class DeepseekAiEmbeddingController {\n\n    private final EmbeddingModel embeddingModel;\n\n    @Autowired\n    public DeepseekAiEmbeddingController(EmbeddingModel embeddingModel) {\n        this.embeddingModel = embeddingModel;\n    }\n\n    @GetMapping("/ai/embedding")\n    public Map embed(@RequestParam(value = "message", defaultValue = "tell me a joke") String message) {\n        EmbeddingResponse embeddingResponse = embeddingModel.embedForResponse(List.of(message));\n        return Map.of("embedding", embeddingResponse);\n    }\n\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["\ud83d\udee0 ",(0,d.jsx)(n.strong,{children:"Test it with a REST tool!"})," \ud83d\ude80"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.img,{alt:"spring-ai-embedding-result",src:i(6765).A+"",width:"720",height:"405"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-6-wrapping-it-up",children:"\ud83c\udfaf 6. Wrapping It Up"}),"\n",(0,d.jsx)(n.p,{children:"\ud83c\udf89 Here\u2019s what we covered:"}),"\n",(0,d.jsxs)(n.p,{children:["\u2705 ",(0,d.jsx)(n.strong,{children:"Vectors (embeddings)"})," represent objects in numerical form.\n\u2705 ",(0,d.jsx)(n.strong,{children:"Semantic search"})," finds meaning instead of just words.\n\u2705 The ",(0,d.jsx)(n.strong,{children:"EmbeddingModel"})," interface is your AI magic wand! \ud83e\ude84\n\u2705 Spring AI supports ",(0,d.jsx)(n.strong,{children:"multiple embedding models"}),".\n\u2705 We saw a ",(0,d.jsx)(n.strong,{children:"live demo"})," using Deepseek AI with Ollama!"]}),"\n",(0,d.jsxs)(n.p,{children:["\ud83d\udca1 ",(0,d.jsx)(n.strong,{children:"What\u2019s next?"})," Start building cool AI-powered apps! \ud83d\ude80\ud83d\udca1"]}),"\n",(0,d.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,d.jsx)(n.strong,{children:"Happy Learning & Happy Coding!"})," \ud83e\uddbe\ud83d\udd25"]})]})}function g(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},3451:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/spring-ai-embedding-model-708a9f8161c9a063aa338726e3483e3a.png"},6765:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/spring-ai-embedding-result-cc270b8008fc303fe5e3a9d98864ebb3.png"},8107:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/spring_ai_logo-85ebfad6246caa6a26060f054d26ebc8.png"},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var s=i(6540);const d={},t=s.createContext(d);function r(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);